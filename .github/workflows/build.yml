# اسم سير العمل (Workflow) الذي سيظهر في قسم Actions في GitHub
name: Check for AutoHotkey Folder

# يحدد متى يتم تشغيل هذا السير العمل
# في هذه الحالة، يتم تشغيله عند أي عملية دفع (push) إلى الفرع الرئيسي (main)
# أو يمكن تشغيله يدويًا من واجهة GitHub
on:
  push:
    branches: [ main ]
  workflow_dispatch:

# الوظائف (Jobs) التي سيتم تنفيذها
jobs:
  # وظيفة واحدة باسم "check-folder-existence"
  check-folder-existence:
    # تحديد نظام التشغيل الذي ستعمل عليه الوظيفة
    # بما أن المسار هو مسار ويندوز، نستخدم أحدث نسخة من ويندوز
    runs-on: windows-latest

    # الخطوات (Steps) التي سيتم تنفيذها في هذه الوظيفة
    steps:
    # الخطوة الأولى: التحقق من وجود المجلد باستخدام PowerShell
    - name: Check if AutoHotkey folder exists
      run: |
        # المسار الذي نريد التحقق منه
        $folderPath = "C:\Program Files\AutoHotkey"

        # استخدام Test-Path للتحقق من وجود المسار
        if (Test-Path $folderPath) {
          # إذا كان المجلد موجودًا، اطبع رسالة نجاح
          Write-Host "Success: AutoHotkey folder found at $folderPath"
        } else {
          # إذا لم يكن المجلد موجودًا، اطبع رسالة خطأ
          Write-Host "Error: AutoHotkey folder not found at $folderPath"
          # إنهاء السكريبت مع رمز خطأ، مما يؤدي إلى فشل سير العمل
          exit 1
        }
